<div>

    <h2>Delivery Details</h2>

    <form [formGroup]="form" (submit)="handleFormSubmission()">

        Values: {{form.value | json}}

        <div class="row mb-3">
            <div class="col">
                <label class="form-label">Name</label>
                <input formControlName="name" type="text"
                    class="form-control" [ngClass]="{'is-invalid': fieldError('name')}">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label class="form-label">Address</label>
                <input formControlName="address" type="text"
                    class="form-control" [ngClass]="{'is-invalid': fieldError('address')}">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label class="form-label">Email</label>
                <input formControlName="email" type="text"
                    class="form-control" [ngClass]="{'is-invalid': fieldError('email')}">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label class="form-label">Delivery Date</label>
                <input formControlName="deliveryDate" type="date"
                    class="form-control" [ngClass]="{'is-invalid': fieldError('deliveryDate')}">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label class="form-label">Urgent</label>
                <div class="form-check">
                    <input formControlName="urgent" type="checkbox"
                        class="form-check-input" (change)="updateUrgency($event)">
                    <label class="form-check-label text-info">
                        Check for urgent deliveries
                    </label>
                </div>
            </div>
        </div>

        @if (showDeliveryTime) {
            <div class="row mb-3">
                <div class="col">
                    <label>Delivery Time</label>
                    <div class="col d-flex gap-3">
                        <div class="form-check">
                            <input formControlName="am" type="checkbox"
                                class="form-check-input">
                            <label class="form-check-label">0900 - 1200</label>
                        </div>
                        <div class="form-check">
                            <input formControlName="pm" type="checkbox"
                                class="form-check-input">
                            <label class="form-check-label">1200 - 1600</label>
                        </div>
                        <div class="form-check">
                            <input formControlName="ev" type="checkbox"
                                class="form-check-input">
                            <label class="form-check-label">1600 - 2000</label>
                        </div>
                    </div>
                </div>
            </div>
        }

        

        <div class="row mb-3">
            <div class="col d-flex gap-3">
                <button type="submit" class="btn btn-primary">Submit Order</button>
                <button type="button" class="btn btn-secondary">Add Item</button>
            </div>
        </div>
    </form>
</div>
